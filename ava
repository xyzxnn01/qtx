(function() {
    console.log("Running deposit page script");

    function updateElements() {
        const balanceelement = document.querySelectorAll(".usermenu__select-balance.js-balance-visible-usermenu")[2];
        const liElements = document.querySelectorAll(".usermenu__select-item.usermenu__select-item--radio");

        if (balanceelement !== null) {
            const balanceValue = balanceelement.textContent.trim();
            const balanceNumber = parseFloat(balanceValue.replace(/[$,]/g, ""));

            const balanceElement = document.querySelector(".usermenu__info-balance.js-balance-visible-usermenu");
            balanceElement.textContent = balanceValue;

            const balanceValueElements = document.querySelectorAll(".balance__value");
            balanceValueElements.forEach((element) => {
                element.textContent = balanceValue.replace("$", "") + "$";
            });

            const balanceListElements = document.querySelectorAll(".balance-list__value");
            const firstTwoBalanceListElements = Array.from(balanceListElements).slice(0, 2);
            firstTwoBalanceListElements.forEach((element) => {
                element.textContent = balanceValue.replace("$", "") + "$";
            });

            const useElement = document.querySelector(".icon-profile-level-standart use");
            if (balanceNumber < 5000) {
                useElement.setAttribute("href", "/profile/images/spritemap.svg#icon-profile-level-standart");
            } else if (balanceNumber >= 5000 && balanceNumber < 10000) {
                useElement.setAttribute("href", "/profile/images/spritemap.svg#icon-profile-level-pro");
            } else if (balanceNumber >= 10000) {
                useElement.setAttribute("href", "/profile/images/spritemap.svg#icon-profile-level-vip");
            }

            const selectBalanceElement = document.querySelector(".usermenu__select-balance.js-balance-visible-usermenu");
            selectBalanceElement.textContent = balanceValue;

            let blc = balanceNumber;
            let icoin, levelName, levelProfit;
            if (blc < 5000) {
                levelProfit = "+0% profit";
                levelName = "STANDARD:";
                icoin = '<svg class="icon-profile-level-standart"><use xlink:href="/profile/images/spritemap.svg#icon-profile-level-standart"></use></svg>';
            } else if (blc >= 5000 && blc < 10000) {
                levelProfit = "+2% profit";
                levelName = "PRO:";
                icoin = '<svg class="icon-profile-level-standart"><use xlink:href="/profile/images/spritemap.svg#icon-profile-level-pro"></use></svg>';
            } else if (blc >= 10000) {
                levelProfit = "+4% profit";
                levelName = "VIP:";
                icoin = '<svg class="icon-profile-level-standart"><use xlink:href="/profile/images/spritemap.svg#icon-profile-level-vip"></use></svg>';
            }

            let menu = document.getElementsByClassName("usermenu__dropdown")[0];
            if (menu != null) {
                document.getElementsByClassName("usermenu__level-icon")[0].innerHTML = icoin;
                document.getElementsByClassName("usermenu__level-name")[0].innerHTML = levelName;
                document.getElementsByClassName("usermenu__level-profit")[0].innerHTML = levelProfit;
                document.getElementsByClassName("usermenu__select-balance")[0].innerHTML = document.getElementsByClassName("usermenu__info-balance")[0].innerHTML;
                document.getElementsByClassName("usermenu__select-balance")[1].innerHTML = "$10,000.00";

                let real1 = document.getElementsByClassName("usermenu__select-item--radio")[0];
                real1.setAttribute("id", "real1");
                let demo1 = document.getElementsByClassName("usermenu__select-item--radio")[1];
                demo1.setAttribute("id", "demo1");
                let real2 = document.getElementById("real1");
                real2.classList.add("active");
                let demo2 = document.getElementById("demo1");
                demo2.classList.remove("active");
            }
        }
    }

    // Run the function
    setInterval(updateElements, 1000);
})();
